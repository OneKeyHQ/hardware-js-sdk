"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[653],{653:(e,t,r)=>{r.r(t),r.d(t,{default:()=>te});var o=r(46687),n=r(60968),s=r(93335),i=r(19854),a=r(76005),l=r(36111),u=r(77431),c=r(93460),p=r(28742),f=r(63699),d=r(1777),v=r(13620),h=r(69403),m=r(21307),x=r(76847),y=r(38837),j=r(93302),P=r(38697),E=r(68743);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var T,g=r(34103).StyleSheet.create({0:{flexDirection:"row"},1:{flexDirection:"row"},2:{flexDirection:"column",flexWrap:"wrap",gap:8},3:{flexDirection:"column"},4:{flexDirection:"row",flexWrap:"wrap",gap:8},5:{flexDirection:"row",flexWrap:"wrap"}}),w=r(34103).View;r(34103).Text;function b(e){var t=e.item,r=e.itemVerifyState,o=(0,d.default)(),n=`${null==t?void 0:t.method}`;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(w,{style:g[0],children:(0,E.jsx)(f.Text,{fontSize:14,children:n})}),(0,E.jsxs)(w,{style:g[1],children:[(0,E.jsxs)(f.Text,{fontSize:14,children:[o.formatMessage({id:"label__expected"})," ",null!=t&&t.expect?"success":"invalid path"]}),r.ext&&(0,E.jsx)(f.Text,{fontSize:14,paddingLeft:"$2",children:`${r.ext} ms`})]})]})}function O(){var e=(0,d.default)(),t=(0,x.default)({fileName:"InitDurationTest",reportTitle:"InitDurationTestReport",customReport:function(e,t){var r=[];return r.push("## Test Case"),r.push("| State | Method | Result |"),r.push("| --- | --- | --- |"),e.forEach((function(e){var o=e,n=o.$key,s=o.method,i=null==t?void 0:t[n].verify,a="fail"===i?null==t?void 0:t[n].error:"success";r.push(`| ${i} | ${s} | ${a} |`)})),Promise.resolve(r)}}),r=t.showExportReport,o=t.exportReport;return r?(0,E.jsx)(y.Button,{variant:"primary",onPress:o,children:e.formatMessage({id:"action__export_report"})}):null}function D(){var e=(0,d.default)(),t=(0,a.useHardwareInputPinDialog)().openDialog,r=(0,o.useState)(1e3),n=(0,c.default)(r,2),s=n[0],i=n[1],h=(0,o.useState)(10),x=(0,c.default)(h,2),y=x[0],b=x[1],D=(0,m.useRunnerTest)({initHardwareListener:function(e){return T&&e.off(p.UI_EVENT,T),T=function(r){console.log("TopLEVEL EVENT ===>>>>: ",r),r.type===p.UI_REQUEST.REQUEST_PIN&&t(e,r.payload.device.features)},e.on(p.UI_EVENT,T),Promise.resolve()},initTestCase:function(){var e=(0,u.default)((function*(e,t){var r=Array.from({length:y},(function(e,t){return{$key:`test-${t}`,title:`test-${t}`,method:"testInitializeDeviceDuration",expect:!0}}));return Promise.resolve({title:"testInitializeDeviceDuration",data:r})}));return function(t,r){return e.apply(this,arguments)}}(),generateRequestParams:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.params);return Promise.resolve({method:e.method,params:t})},processRequest:function(){var e=(0,u.default)((function*(e,t,r,o,n,i){yield new Promise((function(e){return setTimeout(e,s)}));var a=function(){var o=(0,u.default)((function*(){try{return{payload:yield e[`${t}`](r,n),skipVerify:!0}}catch(o){return console.log("=====>>>>> processRequest error: ",o),{payload:{success:!1,payload:{code:800,error:o}},skipVerify:!0}}}));return function(){return o.apply(this,arguments)}}();return a()}));return function(t,r,o,n,s,i){return e.apply(this,arguments)}}(),processResponse:function(e,t,r,o){var n=(0,v.get)(o,"payload.error","");return o.success?Promise.resolve({error:void 0,verifyState:o.payload>600?"warning":"success",ext:`time: ${o.payload}`}):Promise.resolve({error:`actual: ${n}, expected: success`})},removeHardwareListener:function(e){return T&&e.off(p.UI_EVENT,T),Promise.resolve()}}),_=D.stopTest,R=D.beginTest;return(0,o.useMemo)((function(){return(0,E.jsxs)(w,{style:g[2],children:[(0,E.jsx)(w,{style:g[3],children:(0,E.jsx)(f.Text,{fontSize:14,children:"\u6d4b\u8bd5\u521d\u59cb\u5316\u8bbe\u5907\u8017\u65f6"})}),(0,E.jsxs)(w,{style:g[4],children:[(0,E.jsx)(P.CommonInput,{type:"number",label:e.formatMessage({id:"label__test_interval_time"}),value:s.toString(),onChange:function(e){return i(parseInt(e))}}),(0,E.jsx)(P.CommonInput,{type:"number",label:e.formatMessage({id:"label__test_count"}),value:y.toString(),onChange:function(e){return b(parseInt(e))}}),(0,E.jsxs)(w,{style:g[5],children:[(0,E.jsx)(j.default,{onStop:_,onStart:R}),(0,E.jsx)(O,{})]})]})]})}),[R,s,e,_,y])}function _(){return(0,E.jsx)(h.TestRunnerView,{title:"Device init duration Test",renderExecuteView:function(){return(0,E.jsx)(D,{})},renderResultView:function(e,t){return(0,E.jsx)(b,{item:e,itemVerifyState:t})}})}var R=r(71420);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var k,V=r(34103).StyleSheet.create({0:{flexDirection:"row"},1:{flexDirection:"row"},2:{flexDirection:"column",flexWrap:"wrap",gap:8},3:{flexDirection:"column"},4:{flexDirection:"row",flexWrap:"wrap",gap:8},5:{flexDirection:"row",flexWrap:"wrap"}}),I=r(34103).View;r(34103).Text;function U(e){var t=e.item,r=e.itemVerifyState,o=(0,d.default)(),n=`${null==t?void 0:t.title}`;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(I,{style:V[0],children:(0,E.jsx)(f.Text,{fontSize:14,children:n})}),(0,E.jsxs)(I,{style:V[1],children:[(0,E.jsxs)(f.Text,{fontSize:14,children:[o.formatMessage({id:"label__expected"})," ",null!=t&&t.expect?"success":"invalid path"]}),r.ext&&(0,E.jsx)(f.Text,{fontSize:14,paddingLeft:"$2",children:`${r.ext} ms`})]})]})}function N(){var e=(0,d.default)(),t=(0,x.default)({fileName:"LockDeviceTest",reportTitle:"LockDeviceTestReport",customReport:function(e,t){var r=[];return r.push("## Test Case"),r.push("| State | Method | Path | Result |"),r.push("| --- | --- | --- | --- |"),e.forEach((function(e){var o=e,n=o.$key,s=o.method,i=o.path,a=null==t?void 0:t[n].verify,l="fail"===a?null==t?void 0:t[n].error:"success";r.push(`| ${a} | ${s} | ${i} | ${l} |`)})),Promise.resolve(r)}}),r=t.showExportReport,o=t.exportReport;return r?(0,E.jsx)(y.Button,{variant:"primary",onPress:o,children:e.formatMessage({id:"action__export_report"})}):null}function L(){var e=(0,d.default)(),t=(0,a.useHardwareInputPinDialog)().openDialog,r=(0,o.useState)(!1),n=(0,c.default)(r,2),s=n[0],i=n[1],h=(0,m.useRunnerTest)({initHardwareListener:function(e){return k&&e.off(p.UI_EVENT,k),k=function(r){console.log("TopLEVEL EVENT ===>>>>: ",r),r.type===p.UI_REQUEST.REQUEST_PIN&&t(e,r.payload.device.features),r.type===p.UI_REQUEST.REQUEST_PASSPHRASE&&setTimeout((function(){e.uiResponse({type:p.UI_RESPONSE.RECEIVE_PASSPHRASE,payload:{value:"",passphraseOnDevice:!0,save:!1}})}),200)},e.on(p.UI_EVENT,k),Promise.resolve()},initTestCase:function(){var e=(0,u.default)((function*(e,t){var r=[];return r.push({$key:"test-lock",id:"test-lock",title:"\u68c0\u6d4b Device Lock",method:"deviceLock",params:{},type:"lock",expect:!0}),r.push({$key:"test-unlock",id:"test-unlock",title:"\u68c0\u6d4b Device Unlock",method:"evmGetAddress",params:{path:"m/44'/60'/0'/0/0",showOnOneKey:!1},type:"unlock",expect:!0}),r.push({$key:"test-use-passphrase",id:"test-use-passphrase",title:"\u68c0\u6d4b Device Passphrase \u6253\u5f00",method:"deviceSettings",params:{usePassphrase:!0},type:"passphraseOpened",expect:!0}),r.push({$key:"test-no-use-passphrase",id:"test-no-use-passphrase",title:"\u68c0\u6d4b Device Passphrase \u5173\u95ed",method:"deviceSettings",params:{usePassphrase:!1},type:"passphraseClosed",expect:!0}),s&&r.push({$key:"test-reset",id:"test-reset",title:"\u8bbe\u5907\u64e6\u9664\uff08\u5ffd\u7565\u7ed3\u679c\uff09",method:"deviceWipe",params:{},type:"reset",expect:!0}),Promise.resolve({title:"testDevice",data:r})}));return function(t,r){return e.apply(this,arguments)}}(),generateRequestParams:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.params);return Promise.resolve({method:e.method,params:t})},processRequest:function(){var e=(0,u.default)((function*(e,t,r,o,n,s){var i;if(!(i=t.startsWith("device")?yield e[`${t}`](r,n):yield e[`${t}`](r,o,n)).success)return Promise.resolve({payload:i});var a=yield e.getFeatures(r);return Promise.resolve({payload:a})}));return function(t,r,o,n,s,i){return e.apply(this,arguments)}}(),processResponse:function(e,t,r,o){var n=(0,v.get)(o,"payload.error","");if(!o.success)return Promise.resolve({error:`actual: ${n}, expected: success`});var s=o.payload;if("lock"===t.type){if(!0===s.unlocked)return Promise.resolve({error:`actual: ${s.unlocked}, \u9884\u671f: \u8bbe\u5907\u672a\u89e3\u9501`})}else if("unlock"===t.type){if(!0!==s.unlocked)return Promise.resolve({error:`actual: ${s.unlocked}, \u9884\u671f: \u8bbe\u5907\u672a\u89e3\u9501`});if(!1===s.pin_protection)return Promise.resolve({error:`actual: ${s.pin_protection}, \u9884\u671f: pin \u5df2\u8bbe\u7f6e`});if(!1===s.initialized)return Promise.resolve({error:`actual: ${s.initialized}, \u9884\u671f: \u8bbe\u5907\u5df2\u521d\u59cb\u5316`});if(!1===s.bootloader_mode)return Promise.resolve({error:`actual: ${s.bootloader_mode}, \u9884\u671f: \u975e bootloader \u6a21\u5f0f`})}else if("passphraseOpened"===t.type){if(!0!==s.passphrase_protection)return Promise.resolve({error:`actual: ${s.passphrase_protection}, \u9884\u671f: Passphrase \u542f\u7528`})}else if("passphraseClosed"===t.type&&!1!==s.passphrase_protection)return Promise.resolve({error:`actual: ${s.passphrase_protection}, \u9884\u671f: Passphrase \u672a\u542f\u7528`});return Promise.resolve({error:""})},removeHardwareListener:function(e){return k&&e.off(p.UI_EVENT,k),Promise.resolve()}}),x=h.stopTest,y=h.beginTest;return(0,o.useMemo)((function(){return(0,E.jsxs)(I,{style:V[2],children:[(0,E.jsx)(I,{style:V[3],children:(0,E.jsx)(f.Text,{fontSize:14,children:"\u6d4b\u8bd5\u6ca1\u6709\u521d\u59cb\u5316\u7684\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38\uff0c\u786e\u4fdd\u8bbe\u5907\u5df2\u7ecf\u5bfc\u5165\u8fc7\u52a9\u8bb0\u8bcd\u3002\\n \u4e3b\u8981\u68c0\u6d4b Pin \u7801\u72b6\u6001\uff0c\u9501\u5c4f\u72b6\u6001\u3002Passphrase \u72b6\u6001\u3002"})}),(0,E.jsxs)(I,{style:V[4],children:[(0,E.jsx)(R.SwitchInput,{label:e.formatMessage({id:"label__wipe_device"}),value:!!s,onToggle:i}),(0,E.jsxs)(I,{style:V[5],children:[(0,E.jsx)(j.default,{onStop:x,onStart:y}),(0,E.jsx)(N,{})]})]})]})}),[y,e,s,x])}function z(){return(0,E.jsx)(h.TestRunnerView,{title:"\u6d4b\u8bd5\u521d\u59cb\u5316\u8fc7\u7684\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38",renderExecuteView:function(){return(0,E.jsx)(L,{})},renderResultView:function(e,t){return(0,E.jsx)(U,{item:e,itemVerifyState:t})}})}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var H,M=r(34103).StyleSheet.create({0:{flexDirection:"row"},1:{flexDirection:"row"},2:{flexDirection:"column",flexWrap:"wrap",gap:8},3:{flexDirection:"column"},4:{flexDirection:"row",flexWrap:"wrap",gap:8},5:{flexDirection:"row",flexWrap:"wrap"},6:{paddingTop:24}}),W=r(34103).View;r(34103).Text;function A(e){var t=e.item,r=e.itemVerifyState,o=(0,d.default)(),n=`${null==t?void 0:t.title}`;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(W,{style:M[0],children:(0,E.jsx)(f.Text,{fontSize:14,children:n})}),(0,E.jsxs)(W,{style:M[1],children:[(0,E.jsxs)(f.Text,{fontSize:14,children:[o.formatMessage({id:"label__expected"})," ",null!=t&&t.expect?"success":"invalid path"]}),r.ext&&(0,E.jsx)(f.Text,{fontSize:14,paddingLeft:"$2",children:`${r.ext} ms`})]})]})}function Q(){var e=(0,d.default)(),t=(0,x.default)({fileName:"LockDeviceTest",reportTitle:"LockDeviceTestReport",customReport:function(e,t){var r=[];return r.push("## Test Case"),r.push("| State | Method | Result |"),r.push("| --- | --- | --- | --- |"),e.forEach((function(e){var o=e,n=o.$key,s=o.method,i=null==t?void 0:t[n].verify,a="fail"===i?null==t?void 0:t[n].error:"success";r.push(`| ${i} | ${s} | ${a} |`)})),Promise.resolve(r)}}),r=t.showExportReport,o=t.exportReport;return r?(0,E.jsx)(y.Button,{variant:"primary",onPress:o,children:e.formatMessage({id:"action__export_report"})}):null}function q(){(0,d.default)();var e=(0,a.useHardwareInputPinDialog)().openDialog,t=(0,m.useRunnerTest)({initHardwareListener:function(t){return H&&t.off(p.UI_EVENT,H),H=function(r){console.log("TopLEVEL EVENT ===>>>>: ",r),r.type===p.UI_REQUEST.REQUEST_PIN&&e(t,r.payload.device.features),r.type===p.UI_REQUEST.REQUEST_PASSPHRASE&&setTimeout((function(){t.uiResponse({type:p.UI_RESPONSE.RECEIVE_PASSPHRASE,payload:{value:"",passphraseOnDevice:!0,save:!1}})}),200)},t.on(p.UI_EVENT,H),Promise.resolve()},initTestCase:function(){var e=(0,u.default)((function*(e,t){var r=[];return r.push({$key:"test-lock",id:"test-lock",title:"\u68c0\u6d4b Device Info",method:"getFeatures",params:{},type:"lock",expect:!0}),Promise.resolve({title:"testDevice",data:r})}));return function(t,r){return e.apply(this,arguments)}}(),generateRequestParams:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.params);return Promise.resolve({method:e.method,params:t})},processRequest:function(){var e=(0,u.default)((function*(e,t,r,o,n,s){var i;return i=t.startsWith("device")?yield e[`${t}`](r,n):yield e[`${t}`](r,o,n),Promise.resolve({payload:i})}));return function(t,r,o,n,s,i){return e.apply(this,arguments)}}(),processResponse:function(e,t,r,o){var n=(0,v.get)(o,"payload.error","");if(!o.success)return Promise.resolve({error:`actual: ${n}, expected: success`});var s=o.payload;return!0!==s.unlocked?Promise.resolve({error:`actual: ${s.unlocked}, \u9884\u671f: \u8bbe\u5907\u672a\u89e3\u9501`}):!1!==s.passphrase_protection?Promise.resolve({error:`actual: ${s.passphrase_protection}, \u9884\u671f: Passphrase \u672a\u542f\u7528`}):!1!==s.initialized?Promise.resolve({error:`actual: ${s.initialized}, \u9884\u671f: \u8bbe\u5907\u672a\u521d\u59cb\u5316`}):!1!==s.pin_protection?Promise.resolve({error:`actual: ${s.pin_protection}, \u9884\u671f: pin \u672a\u8bbe\u7f6e`}):Promise.resolve({error:""})},removeHardwareListener:function(e){return H&&e.off(p.UI_EVENT,H),Promise.resolve()}}),r=t.stopTest,n=t.beginTest;return(0,o.useMemo)((function(){return(0,E.jsxs)(W,{style:M[2],children:[(0,E.jsx)(W,{style:M[3],children:(0,E.jsx)(f.Text,{fontSize:14,children:"\u6d4b\u8bd5\u6ca1\u6709\u521d\u59cb\u5316\u7684\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38\uff0c\u786e\u4fdd\u8bbe\u5907\u6ca1\u6709\u5bfc\u5165\u8fc7\u52a9\u8bb0\u8bcd\uff0c\u5bfc\u5165\u8fc7\u52a9\u8bb0\u8bcd\u53ef\u4ee5\u64e6\u9664\u540e\u6d4b\u8bd5"})}),(0,E.jsx)(W,{style:M[4],children:(0,E.jsxs)(W,{style:M[5],children:[(0,E.jsx)(j.default,{onStop:r,onStart:n}),(0,E.jsx)(Q,{})]})})]})}),[n,r])}function B(){return(0,E.jsx)(W,{style:M[6],children:(0,E.jsx)(h.TestRunnerView,{title:"\u6d4b\u8bd5\u6ca1\u6709\u521d\u59cb\u5316\u7684\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38",renderExecuteView:function(){return(0,E.jsx)(q,{})},renderResultView:function(e,t){return(0,E.jsx)(A,{item:e,itemVerifyState:t})}})})}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var G,K=r(34103).StyleSheet.create({0:{flexDirection:"row"},1:{flexDirection:"row"},2:{flexDirection:"column",flexWrap:"wrap",gap:8},3:{flexDirection:"column"},4:{flexDirection:"row",flexWrap:"wrap",gap:8},5:{flexDirection:"row",flexWrap:"wrap"},6:{paddingTop:24}}),J=r(34103).View;r(34103).Text;function X(e){var t=e.item,r=e.itemVerifyState,o=(0,d.default)(),n=`${null==t?void 0:t.title}`;return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(J,{style:K[0],children:(0,E.jsx)(f.Text,{fontSize:14,children:n})}),(0,E.jsxs)(J,{style:K[1],children:[(0,E.jsxs)(f.Text,{fontSize:14,children:[o.formatMessage({id:"label__expected"})," ",null!=t&&t.expect?"success":"invalid path"]}),r.ext&&(0,E.jsx)(f.Text,{fontSize:14,paddingLeft:"$2",children:`${r.ext} ms`})]})]})}function Y(){var e=(0,d.default)(),t=(0,x.default)({fileName:"BootloaderDeviceTest",reportTitle:"BootloaderDeviceTestReport",customReport:function(e,t){var r=[];return r.push("## Test Case"),r.push("| State | Method  | Result |"),r.push("| --- | --- | --- |"),e.forEach((function(e){var o=e,n=o.$key,s=o.method,i=null==t?void 0:t[n].verify,a="fail"===i?null==t?void 0:t[n].error:"success";r.push(`| ${i} | ${s} | ${a} |`)})),Promise.resolve(r)}}),r=t.showExportReport,o=t.exportReport;return r?(0,E.jsx)(y.Button,{variant:"primary",onPress:o,children:e.formatMessage({id:"action__export_report"})}):null}function Z(){(0,d.default)();var e=(0,a.useHardwareInputPinDialog)().openDialog,t=(0,m.useRunnerTest)({initHardwareListener:function(t){return G&&t.off(p.UI_EVENT,G),G=function(r){console.log("TopLEVEL EVENT ===>>>>: ",r),r.type===p.UI_REQUEST.REQUEST_PIN&&e(t,r.payload.device.features),r.type===p.UI_REQUEST.REQUEST_PASSPHRASE&&setTimeout((function(){t.uiResponse({type:p.UI_RESPONSE.RECEIVE_PASSPHRASE,payload:{value:"",passphraseOnDevice:!0,save:!1}})}),200)},t.on(p.UI_EVENT,G),Promise.resolve()},initTestCase:function(){var e=(0,u.default)((function*(e,t){var r=[];return r.push({$key:"test-lock",id:"test-lock",title:"\u68c0\u6d4b Boot Device Info",method:"deviceUpdateReboot",params:{},type:"lock",expect:!0}),Promise.resolve({title:"testDevice",data:r})}));return function(t,r){return e.apply(this,arguments)}}(),generateRequestParams:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.params);return Promise.resolve({method:e.method,params:t})},processRequest:function(){var e=(0,u.default)((function*(e,t,r,o,n,s){(t.startsWith("device")?yield e[`${t}`](r,n):yield e[`${t}`](r,o,n)).success&&(yield new Promise((function(e){return setTimeout(e,15e3)})));var i=yield e.getFeatures(r);return Promise.resolve({payload:i})}));return function(t,r,o,n,s,i){return e.apply(this,arguments)}}(),processResponse:function(e,t,r,o){var n=(0,v.get)(o,"payload.error","");if(!o.success)return Promise.resolve({error:`actual: ${n}, expected: success`});var s=o.payload;if("onekey.so"!==s.vendor)return Promise.resolve({error:`actual: ${s.vendor}, \u9884\u671f: onekey.so`});if(!0!==s.bootloader_mode)return Promise.resolve({error:`actual: ${s.bootloader_mode}, \u9884\u671f: bootloader \u6a21\u5f0f`});var i=(0,p.getDeviceUUID)(s);return(0,v.isEmpty)(i)?Promise.resolve({error:`actual: ${i}, \u9884\u671f: \u6210\u529f\u8bfb\u53d6\u8bbe\u5907\u5e8f\u5217\u53f7`}):Promise.resolve({error:""})},removeHardwareListener:function(e){return G&&e.off(p.UI_EVENT,G),Promise.resolve()}}),r=t.stopTest,n=t.beginTest;return(0,o.useMemo)((function(){return(0,E.jsxs)(J,{style:K[2],children:[(0,E.jsx)(J,{style:K[3],children:(0,E.jsx)(f.Text,{fontSize:14,children:"\u6d4b\u8bd5 Boot \u7684\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38\u3002"})}),(0,E.jsx)(J,{style:K[4],children:(0,E.jsxs)(J,{style:K[5],children:[(0,E.jsx)(j.default,{onStop:r,onStart:n}),(0,E.jsx)(Y,{})]})})]})}),[n,r])}function ee(){return(0,E.jsx)(J,{style:K[6],children:(0,E.jsx)(h.TestRunnerView,{title:"\u6d4b\u8bd5 Boot \u6a21\u5f0f\u8bbe\u5907\u72b6\u6001\u662f\u5426\u6b63\u5e38",renderExecuteView:function(){return(0,E.jsx)(Z,{})},renderResultView:function(e,t){return(0,E.jsx)(X,{item:e,itemVerifyState:t})}})})}function te(){return(0,E.jsx)(n.default,{children:(0,E.jsx)(i.DeviceProvider,{children:(0,E.jsxs)(a.HardwareInputPinDialogProvider,{children:[(0,E.jsx)(s.default,{children:(0,E.jsx)(_,{})}),(0,E.jsxs)(s.default,{children:[(0,E.jsx)(z,{}),(0,E.jsx)(B,{}),(0,E.jsx)(ee,{})]})]})})})}}}]);